mod towers;

fn main() {
    // 4*4 unreasonable
    // let mut p = towers::puzzle::from_string(" \
    //     ? ? ? ?
    //   3 ? ? ? ? ?
    //   ? ? ? ? ? 2
    //   3 ? ? ? ? ?
    //   ? ? ? ? ? ?
    //     1 ? 2 ?   ");

    // 4*4 unreasonable
    // let p = towers::puzzle::Puzzle::from_string(" \
    //     ? ? 3 ?
    //   ? ? ? ? ? ?
    //   2 ? ? ? ? ?
    //   2 ? ? ? ? ?
    //   ? ? ? ? ? 3
    //     ? ? ? 3   ");

    // 5*5 hard
    // let mut p = towers::puzzle::from_string(" \
    //     3 ? ? 4 ?
    //   ? ? ? ? ? ? ?
    //   ? ? ? ? ? ? ?
    //   ? ? ? ? ? ? ?
    //   2 ? 3 ? ? ? ?
    //   3 ? ? ? ? ? ?
    //     ? 4 ? ? 1  ");

    // 5*5 unreasonable
    // let mut p = towers::puzzle::from_string(" \
    //     3 ? 4 ? ?
    //   ? ? ? ? ? ? 1
    //   3 ? ? ? ? ? ?
    //   ? ? ? ? ? ? ?
    //   ? 1 ? ? ? ? ?
    //   ? ? ? ? ? ? ?
    //     ? ? ? 2 ?  ");

    // 5*5 unreasonable - Still can't solve!
    // let p = towers::puzzle::Puzzle::from_string(" \
    //     ? ? 3 ? ?
    //   ? ? ? ? ? ? ?
    //   ? ? ? ? ? ? 2
    //   ? ? ? ? ? ? 2
    //   ? ? ? ? ? ? 2
    //   3 ? ? 1 ? ? ?
    //     ? 4 ? ? ?  ");

    // 6*6 easy
    // let mut p = towers::puzzle::from_string(" \
    //     4 2 2 3 5 1
    //   4 ? ? ? ? ? ? 1
    //   2 ? ? 3 ? ? ? 3
    //   3 ? ? ? ? ? ? 3
    //   2 ? ? ? ? ? ? 3
    //   1 ? ? 1 ? ? ? 3
    //   2 ? ? ? ? ? ? 2
    //     2 4 3 2 1 2  ");

    // 6*6 hard - Still needs to brute force views!
    // let mut p = towers::puzzle::from_string(" \
    //     ? ? ? ? 2 ?
    //   5 ? ? ? ? ? ? ?
    //   4 3 ? ? ? ? ? 3
    //   ? ? ? 4 ? ? ? 2
    //   ? ? ? ? ? ? 3 ?
    //   ? ? ? ? ? ? ? 2
    //   ? ? ? ? ? ? ? ?
    //     ? 3 ? 3 3 ?  ");

    // 6*6 hard
    // let mut p = towers::puzzle::from_string(" \
    //     ? ? 4 3 ? ?
    //   ? ? 2 ? ? ? ? ?
    //   ? ? ? ? ? 2 ? 2
    //   ? ? ? ? ? ? ? ?
    //   4 ? ? ? ? ? ? ?
    //   2 ? ? ? 4 ? ? 1
    //   ? ? ? ? ? ? ? ?
    //     ? ? ? 3 2 ?  ");

    // 6*6 extreme
    // let mut p = towers::puzzle::from_string(" \
    //     ? 2 ? 3 ? ?
    //   ? ? ? ? ? ? ? ?
    //   5 ? ? ? ? ? ? 2
    //   3 ? ? ? ? ? ? 3
    //   ? ? ? ? ? ? ? ?
    //   ? ? ? ? ? ? ? 4
    //   ? ? ? ? ? ? ? ?
    //     ? 3 1 2 2 3  ");

    // 6*6 extreme
    // let mut p = towers::puzzle::from_string(" \
    //     ? ? 4 3 3 ?
    //   2 ? ? ? ? ? ? ?
    //   ? ? ? ? ? ? ? ?
    //   3 ? ? ? ? 4 ? ?
    //   ? ? ? ? ? ? ? 1
    //   3 ? ? ? ? ? ? 3
    //   ? ? ? ? ? ? ? ?
    //     4 4 ? ? ? 3  ");

    // 6*6 extreme
    // let mut p = towers::puzzle::from_string(" \
    //     ? ? 3 ? 3 ?
    //   ? ? ? ? ? ? ? ?
    //   1 ? ? ? ? ? 2 4
    //   ? ? ? ? ? ? ? ?
    //   2 ? ? ? ? ? ? 3
    //   4 ? ? ? ? 1 ? 2
    //   ? ? ? 2 ? ? ? ?
    //     4 3 ? ? 2 ?  ");

    // 6*6 unreasonable
    // let mut p = towers::puzzle::from_string(" \
    //     3 ? 3 ? 3 ?
    //   ? ? ? ? ? ? ? 3
    //   ? ? ? ? ? ? ? 3
    //   ? ? ? ? ? ? ? ?
    //   ? ? ? ? ? 2 ? 5
    //   4 ? ? 1 ? ? ? 1
    //   ? ? ? ? ? ? ? ?
    //     ? 2 ? 3 ? ?  ");

    // 7*7 unreasonable.
    // let p = towers::puzzle::Puzzle::from_string(" \
    //     ? ? 3 4 ? ? 2
    //   ? ? ? ? ? ? ? ? 3
    //   3 ? ? ? ? 5 ? ? ?
    //   3 ? ? ? 1 ? ? ? 2
    //   4 ? ? ? ? ? ? ? ?
    //   ? ? ? ? 3 ? ? 4 ?
    //   3 ? ? ? ? ? ? ? ?
    //   2 ? ? 2 ? ? ? ? 2
    //     ? ? ? ? 1 3 ?  ");

    // 8*8 unreasonable.
    let p = towers::puzzle::Puzzle::from_string(" \
        4 ? ? 5 2 4 3 ?
      ? 1 ? ? 2 ? 3 ? ? ?
      3 ? ? ? ? ? ? ? ? ?
      3 ? ? 4 ? ? ? ? ? 2
      2 ? ? ? ? ? ? ? ? 3
      3 ? 1 ? ? ? ? ? ? 2
      ? ? 2 ? ? 1 ? ? ? 4
      2 ? ? ? ? ? ? ? ? 3
      4 ? ? ? ? ? ? ? ? 3
        ? 4 2 ? 1 4 ? 4 ");

    // 9*9 unreasonable - Can solve! But I think there are multiple answers
    // let p = towers::puzzle::Puzzle::from_string(" \
    //     ? ? ? 4 2 ? 3 ? 4
    //   4 4 2 ? ? ? ? ? ? ? ?
    //   4 3 ? ? ? ? ? ? 5 ? ?
    //   ? ? 5 4 ? ? ? ? ? ? 4
    //   ? ? ? ? ? ? ? ? ? ? 6
    //   ? ? ? ? 2 ? 9 6 ? ? 4
    //   3 ? ? ? ? ? ? ? ? ? ?
    //   2 ? ? ? ? 3 ? ? 7 ? ?
    //   ? ? ? ? ? ? ? 7 ? ? 4
    //   ? ? ? ? ? ? 6 ? ? ? ?
    //     3 5 ? ? 3 3 3 ? 2  ");

    // let p = towers::puzzle::Puzzle::from_string(" \
    //     ? ? ? 4 2 ? 3 ? 4
    //   4 4 2 7 6 8 1 3 9 5 ?
    //   4 3 ? ? ? ? ? ? 5 ? ?
    //   ? 9 5 4 3 1 7 8 6 2 4
    //   ? 7 ? ? ? ? ? ? ? ? 6
    //   ? 5 ? ? 2 ? 9 6 ? ? 4
    //   3 6 ? ? ? ? ? ? ? ? ?
    //   2 8 1 6 4 3 5 2 7 9 ?
    //   ? 1 6 5 9 2 8 7 3 4 4
    //   ? 2 3 9 1 5 6 4 8 7 ?
    //     3 5 ? ? 3 3 3 ? 2  ");

    // let p = towers::puzzle::Puzzle::from_string(" \
    //     ? ? ? 4 2 ? 3 ? 4
    //   4 4 2 7 6 8 1 3 9 5 ?
    //   4 3 ? ? ? ? ? ? 5 ? ?
    //   ? 9 5 4 3 1 7 8 6 2 4
    //   ? 6 ? ? ? ? ? ? ? ? 6
    //   ? 5 ? ? 2 ? 9 6 ? ? 4
    //   3 1 7 5 3 2 4 9 6 8 ?
    //   2 8 1 6 4 3 2 5 7 9 ?
    //   ? 2 6 9 5 1 8 7 3 4 4
    //   ? 7 3 1 9 4 6 2 8 5 ?
    //     3 5 ? ? 3 3 3 ? 2  ");

    // let p = towers::puzzle::Puzzle::from_string(" \
    //     ? ? ? 4 2 ? 3 ? 4
    //   4 4 2 ? ? ? ? ? ? ? ?
    //   4 3 ? ? ? ? ? ? 5 ? ?
    //   ? 9 5 4 ? ? ? ? ? ? 4
    //   ? 6 ? ? ? ? ? ? ? ? 6
    //   ? 5 ? ? 2 ? 9 6 ? ? 4
    //   3 2 7 5 3 1 4 9 6 8 ?
    //   2 8 1 6 4 3 2 5 7 9 ?
    //   ? 1 6 9 5 2 8 7 3 4 4
    //   ? 7 3 1 9 4 6 2 8 5 ?
    //     3 5 ? ? 3 3 3 ? 2  ");

//       ?         ?         ?         4         2         ?         3         ?         4
// 4 ___4_____ _2_______ ______7__ _____6___ 1________ _______8_ __3______ ________9 ____5____ ?
// 4 __3______ ______7__ _______8_ ___4_____ ________9 _2_______ 1________ ____5____ _____6___ ?
// ? ________9 ____5____ ___4_____ ______7__ _2_______ __3______ _______8_ _____6___ 1________ 4
// ? ______7__ ________9 1________ _______8_ _____6___ ___4_____ ____5____ __3______ _2_______ 6
// ? 1________ _______8_ ____5____ _2_______ ______7__ ________9 _____6___ ___4_____ __3______ 4
// 3 _____6___ ___4_____ __3______ 1________ ____5____ ______7__ ________9 _2_______ _______8_ ?
// 2 _______8_ _____6___ _2_______ ____5____ __3______ 1________ ___4_____ ______7__ ________9 ?
// ? _2_______ __3______ _____6___ ________9 _______8_ ____5____ ______7__ 1________ ___4_____ 4
// ? ____5____ 1________ ________9 __3______ ___4_____ _____6___ _2_______ _______8_ ______7__ ?
//       3         5         ?         ?         3         3         3         ?         2

    let mut s = towers::solver::Solver::new(&p);
    s.full_solve(100);
    println!("{}", s.to_detailed_string());
}
